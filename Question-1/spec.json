[
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "orders": {
          "*": {
            "customer": {
              "fullName": "=concat(@(1,firstName), ' ', @(1,lastName))",
              "address": "=concat(@(1,address.street),', ',@(1,address.city),', ',@(1,address.state),' ',@(1,address.zip))"
            },
            "items": {
              "*": {
                "temp": "=divide(1, @(1,price))",
                "total": "=divide(@(1,quantity), @(1,temp))"
              }
            }
          }
        }
      }
  },
  
    {
      "operation": "shift",
      "spec": {
        "orders": {
          "*": {
            "items": {
              "*": {
                "total": "orders.[&3].total",
                "*": "orders.[&3].items.[&1].&"
              }
            },
            "*": "orders.[&1].&"
          }
        }
      }
    },
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "orders": {
          "*": {
            "total": "=doubleSum(@(1,total))"
          }
        }
      }
    },
    {
      "operation": "remove",
      "spec": {
        "orders": {
          "*": {
            "customer": {
              "firstName": " ",
              "lastName": " "
            },
            "items": {
              "*": {
                "temp": " "
              }
            }
          }
        }
      }
    }
  ]
  