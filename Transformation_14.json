Input JSON
{
  "employees": [
    {
      "id": "001",
      "name": "John",
      "department": "HR",
      "phone": [
        {
          "type": "home",
          "number": "555-555-1234"
        },
        {
          "type": "work",
          "number": "555-555-5678"
        }
      ]
    },
    {
      "id": "002",
      "name": "Jane",
      "department": "Sales",
      "phone": [
        {
          "type": "home",
          "number": "555-555-4567"
        },
        {
          "type": "work",
          "number": "555-555-8901"
        }
      ]
    }
  ]
}

Output JSON
{
  "employees": [
    {
      "id": "001",
      "name": "John",
      "department": "HR",
      "homePhone": "555-555-1234",
      "workPhone": "555-555-5678"
    },
    {
      "id": "002",
      "name": "Jane",
      "department": "Sales",
      "homePhone": "555-555-4567",
      "workPhone": "555-555-8901"
    }
  ]
}

Jolt Spec

[
  {
    "operation": "shift",
    "spec": {
      "employees": {
        "*": {
          "*": "&2.[#2].&",
          "phone": {
            "*": {
              "number": "&4.[#4].@(1,type)"
            }
          }
        }
      }
    }
  },
  {
    "operation": "shift",
    "spec": {
      "employees": {
        "*": {
          "*": "&2.[#2].&",
          "home": "&2.[#2].homePhone",
          "work": "&2.[#2].workPhone"
        }
      }
    }
  }
]
