[
  {
    "operation": "shift",
    "spec": {
      "employees": {
        "*": {
          "department": {
            "id": "@(1,id).id",
            "name": "@(1,id).name",
            "@(1,name)": "@(1,id).employee[&2].name",
            "@(1,age)": "@(1,id).employee[&2].age"
          }
        }
      }
    }
  }
  ,
  {
    "operation": "cardinality",
    "spec": {
      "*": {
        "id": "ONE",
        "name": "ONE"
      }
    }
  }
  ,
  {
    "operation": "modify-overwrite-beta",
    "spec": {
      "*": "=recursivelySquashNulls"
    }
	}
,
  {
    "operation": "shift",
    "spec": {
      "*": {
        "*": "department[#2].&"
      }
    }
	}
]
