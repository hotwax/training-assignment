Input:

{
  "id": 1,
  "name": "John",
  "hobbies": [
    {
      "name": "reading",
      "level": "advanced"
    },
    {
      "name": "swimming",
      "level": "beginner"
    }
  ]
}

Transformation:


[
  {
    "operation": "shift",
    "spec": {
      "hobbies": {
        "*": {
          "name": "[&1].hobby_name",
          "level": "[&1].hobby_level",
          "@(3,id)": "[&1].id",
          "@(3,name)": "[&1].name"
        }
      }
    }
  }
]


Output:

[ {
  "name" : "John",
  "id" : 1,
  "hobby_name" : "reading",
  "hobby_level" : "advanced"
}, {
  "name" : "John",
  "id" : 1,
  "hobby_name" : "swimming",
  "hobby_level" : "beginner"
} ]


