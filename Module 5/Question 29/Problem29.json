Input Json

{
    "person": {
        "name": "John Doe",
        "age": 30,
        "address": {
            "city": "New York",
            "state": "NY"
        }
    }
}

Json Spec

[
    {
        "operation": "shift",
        "spec": {
            "person": {
                "*": "person-&"
            }
        }
    },
    {
        "operation": "shift",
        "spec": {
            "*": "&",
            "person-address": {
                "*": "person-address-&"
            }
        }
    }
]

Output Json

{
    "person_name": "John Doe",
    "person_age": 30,
    "person_address_city": "New York",
    "person_address_state": "NY"
}