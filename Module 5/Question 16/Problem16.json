Input Json

{
    "employees": [
        {
            "id": "1001",
            "name": "John Doe",
            "age": 25,
            "skills": [
                {
                    "name": "Java",
                    "level": "Intermediate"
                },
                {
                    "name": "Python",
                    "level": "Expert"
                }
            ]
        },
        {
            "id": "1002",
            "name": "Jane Doe",
            "age": 30,
            "skills": [
                {
                    "name": "Java",
                    "level": "Expert"
                }
            ]
        }
    ]
}

Json Spec

[
    {
        "operation": "shift",
        "spec": {
            "employees": {
                "*": {
                    "skills": {
                        "*": {
                            "@(2,name)": "@name.@level[]"
                        }
                    }
                }
            }
        }
    }
]

  
Output Json

{
    "Java": {
        "Intermediate": [
            "John Doe"
        ],
        "Expert": [
            "Jane Doe"
        ]
    },
    "Python": {
        "Expert": [
            "John Doe"
        ]
    }
}