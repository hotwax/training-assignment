Input Json

{
    "name": "John Smith",
    "age": 35,
    "address": {
        "street": "123 Main St",
        "city": "Anytown",
        "state": "CA",
        "zip": "12345"
    },
    "phone_numbers": [
        {
            "type": "home",
            "number": "555-1234"
        },
        {
            "type": "work",
            "number": "555-5678"
        }
    ]
}

Json Spec

[
    {
        "operation": "modify-default-beta",
        "spec": {
            "nameList": "=split(' ', @(1,name))",
            "firstName": "=firstElement(@(1,nameList))",
            "lastName": "=lastElement(@(1,nameList))",
            "phone_number_count": "=size(@(1,phone_numbers))"
        }
    },
    {
        "operation": "remove",
        "spec": {
            "name": "",
            "nameList": ""
        }
    }
]

Output Json

{
    "age": 35,
    "address": {
        "street": "123 Main St",
        "city": "Anytown",
        "state": "CA",
        "zip": "12345"
    },
    "phone_numbers": [
        {
            "type": "home",
            "number": "555-1234"
        },
        {
            "type": "work",
            "number": "555-5678"
        }
    ],
    "firstName": "John",
    "lastName": "Smith",
    "phone_number_count": 2
}