Input JSON

{
    "students": [
        {
            "name": "John Doe",
            "age": 23,
            "email": "john.doe@example.com"
        },
        {
            "name": "Jane Smith",
            "age": 25,
            "email": "jane.smith@example.com"
        }
    ]
}


JSON Spec

[
    {
        "operation": "shift",
        "spec": {
            "students": {
                "*": "[&]"
            }
        }
    },
    {
        "operation": "modify-default-beta",
        "spec": {
            "*": {
                "Name": "@(1,name)",
                "Age": "@(1,age)",
                "temp": "=split('@', @(1,email))",
                "Domain": "=lastElement(@(1,temp))"
            }
        }
    },
    {
        "operation": "remove",
        "spec": {
            "*": {
                "name": "",
                "age": "",
                "temp": "",
                "email": ""
            }
        }
    }
]


Output JSON


[
    {
        "Name": "John Doe",
        "Age": 23,
        "Domain": "example.com"
    },
    {
        "Name": "Jane Smith",
        "Age": 25,
        "Domain": "example.com"
    }
]