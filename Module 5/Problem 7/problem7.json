Input:

{
  "students": [
    {
      "name": "John Doe",
      "age": 23,
      "email": "john.doe@example.com"
    },
    {
      "name": "Jane Smith",
      "age": 25,
      "email": "jane.smith@example.com"
    }
  ]
}


Transformation:

[
  {
    "operation": "modify-overwrite-beta",
    "spec": {
      "students": {
        "*": {
          "email-split": "=split('@',@(1,email))",
          "domain": "@(1,email-split[1])"
        }
      }
    }
    },
  {
    "operation": "shift",
    "spec": {
      "students": {
        "*": {
          "name": "[#2].Name",
          "age": "[#2].Age",
          "domain": "[#2].Domain"
        }
      }
    }
    }
]



Output:

[ {
  "Name" : "John Doe",
  "Age" : 23,
  "Domain" : "example.com"
}, {
  "Name" : "Jane Smith",
  "Age" : 25,
  "Domain" : "example.com"
} ]