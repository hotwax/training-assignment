Input Json
{
  "name": "John Smith",
  "age": 35,
  "address": {
    "street": "123 Main St",
    "city": "Anytown",
    "state": "CA",
    "zip": "12345"
  },
  "phone_numbers": [
    {
      "type": "home",
      "number": "555-1234"
    },
    {
      "type": "work",
      "number": "555-5678"
    }
  ]
}

Output Json

{
  "first_name": "John",
  "last_name": "Smith",
  "age": 35,
  "address": {
    "street": "123 Main St",
    "city": "Anytown",
    "state": "CA",
    "zip": "12345"
  },
  "phone_numbers": [
    {
      "type": "home",
      "number": "555-1234"
    },
    {
      "type": "work",
      "number": "555-5678"
    }
  ],
  "phone_number_count": 2
}

Jolt Spec

// Using Split function
[
  {
    "operation": "modify-overwrite-beta",
    "spec": {
      "array": "=split(' ',@(1,name))",
      "first_name": "@(1,array[0])",
      "last_name": "@(1,array[1])",
      "phone_number_count": "=size(@(1,phone_numbers))"
    }
  },
  {
    "operation": "remove",
    "spec": {
      "name": "",
      "array": ""
    }
  }
]

// without using spilt function
[
  {
    "operation": "modify-overwrite-beta",
    "spec": {
      "phone_number_count": "=size(@(1,phone_numbers))"
    }
  },
  {
    "operation": "shift",
    "spec": {
      "*": "&",
      "name": {
        "* *": {
          "$(0,1)": "first_name",
          "$(0,2)": "last_name"
        }
      }
    }
  }
]

